const chart=function(){let t=["January","February","March","April","May","June","July"],e=[];function n(){return Math.floor(256*Math.random()).toString()}return{getChartData:function(r){let a=r.filter((t,e)=>e<=9);Promise.all(a.map(t=>fetch(`https://cors-anywhere.herokuapp.com/https://min-api.cryptocompare.com/data/histoday?fsym=${t.symbol}&tsym=USD&limit=6`).then(t=>t.json()))).then(r=>{r.forEach((t,r)=>{let o=[];t.Data.forEach(t=>o.push(t.close)),e.push({label:a[r].symbol,backgroundColor:"transparent",borderColor:`rgba(${n()}, ${n()}, ${n()}, 0.8)`,data:o})}),function(){const n=document.getElementById("currency-chart").getContext("2d");new Chart(n,{type:"line",data:{labels:t,datasets:e},options:{}})}()})}}}();document.addEventListener("DOMContentLoaded",()=>{let t=0,e=[],n=["$","USD"];const r=[13.4,12.3,10.5,10.2,9.2,7.6,5.4,4.9,4.3,4,3.8,3.4,2.1,1.7,1.5,1.5,1.2,1.2,.9,.9],a="https://min-api.cryptocompare.com/data/news/?categories=",o=5,c=document.querySelector(".currency-table"),l=document.querySelector(".invest-form"),d=document.querySelector(".invest-input"),i=document.querySelector(".news-table");function u(t){return fetch(t).then(t=>t.json())}function s(t){let e=t.join(",");fetchUrl=a.concat(e),console.log(fetchUrl),u(fetchUrl).then(t=>(function(t){let e=t.slice(0,o),n=document.createElement("tbody");n.setAttribute("id","newstable");let r=document.querySelector("#newstable");null!==r&&(r.innerHTML=""),e.forEach(t=>{let e=document.createElement("tr");e.innerHTML=`\n            <td><img src="${t.imageurl}" title=${t.title}" alt="news"/></td>\n            <td><p></p><a href="${t.url}">${t.title}</a></p>\n            <p>${t.body}</p></td>\n            `,n.appendChild(e)}),i.appendChild(n)})(t))}function h(a){document.querySelectorAll(".fiat").forEach(t=>t.textContent=` (${n[1]})`),e=a;let o=document.createElement("tbody"),l=[];a.forEach((e,n)=>{l.push(e.symbol);let a=document.createElement("tr");a.innerHTML=`\n                    <td>${e.rank}</td>\n                    <td>${e.name}</td>\n                    <td>${m(e.market_cap_usd)}</td>\n                    <td>${m(e.price_usd)}</td>\n                    <td>${r[n]}%</td>\n                    <td>${function(e){let n=t*e/100;return t-=n,m(n)}(r[n])}</td>\n            `,o.appendChild(a)}),s(l),c.appendChild(o)}function m(t){let e=parseFloat(t);return e%1!=0&&e>1?(e=`${n[0]}${e.toFixed(2)}`).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):e<1?`${n[0]}${e}`:(e=`${n[0]}${parseInt(e)}`).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}l.addEventListener("submit",n=>(function(n){if(n.preventDefault(),""!==d.value){for(t=d.value;c.childNodes.length>1;)c.removeChild(c.lastChild);h(e)}})(n)),u("https://api.coinmarketcap.com/v1/ticker/?limit=20").then(t=>{h(t),chart.getChartData(t)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJjaGFydCIsImxhYmVscyIsImRhdGFzZXRzIiwiZ2V0UmFuZG9tIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJnZXRDaGFydERhdGEiLCJjaGFydERhdGEiLCJjdXJyZW5jaWVzIiwiZmlsdGVyIiwiY2QiLCJpbmRleCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJmZXRjaCIsInN5bWJvbCIsInRoZW4iLCJyZXMiLCJqc29uIiwiZm9yRWFjaCIsImRhdGEiLCJjbG9zaW5nUHJpY2VzIiwiRGF0YSIsImQiLCJwdXNoIiwiY2xvc2UiLCJsYWJlbCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiY3R4IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJDaGFydCIsInR5cGUiLCJvcHRpb25zIiwiYnVpbGRDaGFydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbnZlc3RBbW91bnQiLCJhbGxDdXJyZW5jaWVzIiwiZmlhdCIsImMyMEluZGV4IiwibmV3c1VybCIsIm5ld3NMaW1pdCIsImN1cnJlbmN5VGFibGUiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybSIsImlucHV0IiwibmV3c1RhYmxlIiwiZ2V0RGF0YSIsInVybCIsImdldE5ld3MiLCJjdXJyU3ltYm9scyIsImN1cnJTdHJpbmciLCJqb2luIiwiZmV0Y2hVcmwiLCJjb25jYXQiLCJjb25zb2xlIiwibG9nIiwiYXJ0aWNsZXMiLCJhcnRpY2xlc1NhbXBsZSIsInNsaWNlIiwidGJvZHkiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwibmV3c0JvZHkiLCJpbm5lckhUTUwiLCJpbmZvIiwidHIiLCJpbWFnZXVybCIsInRpdGxlIiwiYm9keSIsImFwcGVuZENoaWxkIiwic2hvd05ld3MiLCJidWlsZFRhYmxlIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW0iLCJ0ZXh0Q29udGVudCIsImN1ciIsImNvaW4iLCJyYW5rIiwibmFtZSIsImZvcm1hdE51bSIsIm1hcmtldF9jYXBfdXNkIiwicHJpY2VfdXNkIiwidmFsdWUiLCJhbW91bnQiLCJjYWxjdWxhdGVJbnZlc3RtZW50IiwibmV3TnVtIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJyZXBsYWNlIiwicGFyc2VJbnQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJzdWJtaXRGb3JtIl0sIm1hcHBpbmdzIjoiQUFDQSxNQUFBQSxNQUFBLFdBRUEsSUFBQUMsR0FBQSxVQUFBLFdBQUEsUUFBQSxRQUFBLE1BQUEsT0FBQSxRQUNBQyxLQW9EQSxTQUFBQyxJQUNBLE9BQUFDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFBQUMsV0FJQSxPQUNBQyxhQXZEQSxTQUFBQyxHQUVBLElBQUFDLEVBQUFELEVBQUFFLE9BQUEsQ0FBQUMsRUFBQUMsSUFBQUEsR0FBQSxHQUVBQyxRQUFBQyxJQUFBTCxFQUFBTSxJQUFBSixHQUNBSyxrR0FBQUwsRUFBQU0sMkJBQ0FDLEtBQUFDLEdBQUFBLEVBQUFDLFVBRUFGLEtBQUFDLElBRUFBLEVBQUFFLFFBQUEsQ0FBQUMsRUFBQVYsS0FDQSxJQUFBVyxLQUNBRCxFQUFBRSxLQUFBSCxRQUFBSSxHQUFBRixFQUFBRyxLQUFBRCxFQUFBRSxRQUNBMUIsRUFBQXlCLE1BQ0FFLE1BQUFuQixFQUFBRyxHQUFBSyxPQUNBWSxnQkFBQSxjQUNBQyxvQkE2QkE1QixRQUFBQSxRQUFBQSxZQTVCQW9CLEtBQUFDLE1BU0EsV0FDQSxNQUFBUSxFQUFBQyxTQUFBQyxlQUFBLGtCQUFBQyxXQUFBLE1BQ0EsSUFBQUMsTUFBQUosR0FFQUssS0FBQSxPQUdBZCxNQUNBdEIsT0FBQUEsRUFDQUMsU0FBQUEsR0FJQW9DLGFBbEJBQyxPQTNCQSxHQ0RBTixTQUFBTyxpQkFBQSxtQkFBQSxLQUdBLElBQUFDLEVBQUEsRUFDQUMsS0FDQUMsR0FBQSxJQUFBLE9BQ0EsTUFBQUMsR0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxFQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFDQSxJQUFBLElBQUEsSUFBQSxHQUFBLElBSUFDLEVBQUEsMkRBR0FDLEVBQUEsRUFHQUMsRUFBQWQsU0FBQWUsY0FBQSxtQkFDQUMsRUFBQWhCLFNBQUFlLGNBQUEsZ0JBQ0FFLEVBQUFqQixTQUFBZSxjQUFBLGlCQUNBRyxFQUFBbEIsU0FBQWUsY0FBQSxlQWdCQSxTQUFBSSxFQUFBQyxHQUNBLE9BQUFwQyxNQUFBb0MsR0FDQWxDLEtBQUFDLEdBQUFBLEVBQUFDLFFBZ0NBLFNBQUFpQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLEtBQUEsS0FFQUMsU0FBQWIsRUFBQWMsT0FBQUgsR0FDQUksUUFBQUMsSUFBQUgsVUFFQU4sRUFBQU0sVUFBQXZDLEtBQUFDLElBbkNBLFNBQUEwQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLE1BQUEsRUFBQWxCLEdBQ0FtQixFQUFBaEMsU0FBQWlDLGNBQUEsU0FDQUQsRUFBQUUsYUFBQSxLQUFBLGFBSUEsSUFBQUMsRUFBQW5DLFNBQUFlLGNBQUEsY0FDQSxPQUFBb0IsSUFDQUEsRUFBQUMsVUFBQSxJQUdBTixFQUFBekMsUUFBQWdELElBQ0EsSUFBQUMsRUFBQXRDLFNBQUFpQyxjQUFBLE1BQ0FLLEVBQUFGLHlDQUNBQyxFQUFBRSxtQkFBQUYsRUFBQUcsNkRBQ0FILEVBQUFqQixRQUFBaUIsRUFBQUcsaUNBQ0FILEVBQUFJLDhCQUVBVCxFQUFBVSxZQUFBSixLQUVBcEIsRUFBQXdCLFlBQUFWLElBY0FXLENBQUF4RCxJQU9BLFNBQUF5RCxFQUFBbkUsR0FFQXVCLFNBQUE2QyxpQkFBQSxTQUFBeEQsUUFBQXlELEdBQUFBLEVBQUFDLGlCQUFBckMsRUFBQSxPQUVBRCxFQUFBaEMsRUFFQSxJQUFBdUQsRUFBQWhDLFNBQUFpQyxjQUFBLFNBQ0FYLEtBQ0E3QyxFQUFBWSxRQUFBLENBQUEyRCxFQUFBQyxLQUNBM0IsRUFBQTVCLEtBQUFzRCxFQUFBL0QsUUFDQSxJQUFBcUQsRUFBQXRDLFNBQUFpQyxjQUFBLE1BQ0FLLEVBQUFGLHVDQUNBWSxFQUFBRSxzQ0FDQUYsRUFBQUcsc0NBQ0FDLEVBQUFKLEVBQUFLLGlEQUNBRCxFQUFBSixFQUFBTSw0Q0FDQTNDLEVBQUFzQyxxQ0F3Q0EsU0FBQU0sR0FFQSxJQUFBQyxFQUFBaEQsRUFBQStDLEVBQUEsSUFFQSxPQURBL0MsR0FBQWdELEVBQ0FKLEVBQUFJLEdBM0NBQyxDQUFBOUMsRUFBQXNDLHlCQUVBakIsRUFBQVUsWUFBQUosS0FFQWpCLEVBQUFDLEdBQ0FSLEVBQUE0QixZQUFBVixHQVNBLFNBQUFvQixFQUFBRyxHQUNBLElBQUFHLEVBQUFDLFdBQUFKLEdBR0EsT0FBQUcsRUFBQSxHQUFBLEdBQUFBLEVBQUEsR0FHQUEsS0FBQWhELEVBQUEsS0FBQWdELEVBQUFFLFFBQUEsTUFFQUMsUUFBQSwyQkFBQSxPQUNBSCxFQUFBLEtBQ0FoRCxFQUFBLEtBQUFnRCxLQUdBQSxLQUFBaEQsRUFBQSxLQUFBb0QsU0FBQUosTUFDQUcsUUFBQSwyQkFBQSxPQXpHQTdDLEVBQUFULGlCQUFBLFNBQUF3RCxJQTRIQSxTQUFBQSxHQUVBLEdBREFBLEVBQUFDLGlCQUNBLEtBQUEvQyxFQUFBc0MsTUFBQSxDQUlBLElBSEEvQyxFQUFBUyxFQUFBc0MsTUFHQXpDLEVBQUFtRCxXQUFBQyxPQUFBLEdBQ0FwRCxFQUFBcUQsWUFBQXJELEVBQUFzRCxXQUVBeEIsRUFBQW5DLEtBcklBNEQsQ0FBQU4sSUFFQTVDLEVBakJBLHFEQWlCQWpDLEtBQUFDLElBQ0F5RCxFQUFBekQsR0FDQXBCLE1BQUFRLGFBQUFZIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBjaGFydCA9ICggZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIGxldCBsYWJlbHMgICA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiXTtcclxuICAgIGxldCBkYXRhc2V0cyA9IFtdO1xyXG4gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q2hhcnREYXRhICggY2hhcnREYXRhICl7XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW5jaWVzID0gY2hhcnREYXRhLmZpbHRlciggKCBjZCwgaW5kZXggKSA9PiBpbmRleCA8PSA5ICk7XHJcblxyXG4gICAgICAgIFByb21pc2UuYWxsKCBjdXJyZW5jaWVzLm1hcCggY2QgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goIGBodHRwczovL2NvcnMtYW55d2hlcmUuaGVyb2t1YXBwLmNvbS9odHRwczovL21pbi1hcGkuY3J5cHRvY29tcGFyZS5jb20vZGF0YS9oaXN0b2RheT9mc3ltPSR7Y2Quc3ltYm9sfSZ0c3ltPVVTRCZsaW1pdD02YCApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oIHJlcyA9PiByZXMuanNvbigpIClcclxuICAgICAgICB9ICkgKVxyXG4gICAgICAgIC50aGVuKCByZXMgPT4ge1xyXG5cclxuICAgICAgICAgICAgcmVzLmZvckVhY2goICggZGF0YSwgaW5kZXggKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xvc2luZ1ByaWNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5EYXRhLmZvckVhY2goIGQgPT4gY2xvc2luZ1ByaWNlcy5wdXNoKCBkLmNsb3NlICkgKVxyXG4gICAgICAgICAgICAgICAgZGF0YXNldHMucHVzaCgge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBjdXJyZW5jaWVzW2luZGV4XS5zeW1ib2wsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBnZXRSYW5kb21Db2xvcigpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNsb3NpbmdQcmljZXMsXHJcbiAgICAgICAgICAgICAgICB9IClcclxuICAgICAgICAgICAgIH0gKVxyXG5cclxuICAgICAgICAgICAgIGJ1aWxkQ2hhcnQoKTtcclxuICAgICAgICB9IClcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYnVpbGRDaGFydCgpIHtcclxuICAgICAgICBjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVuY3ktY2hhcnQnKS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwge1xyXG4gICAgICAgICAgICAvLyBoZSB0eXBlIG9mIGNoYXJ0IHdlIHdhbnQgdG8gY3JlYXRlXHJcbiAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBUaGUgZGF0YSBmb3Igb3VyIGRhdGFzZXRcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgbGFiZWxzLFxyXG4gICAgICAgICAgICAgICAgZGF0YXNldHNcclxuICAgICAgICAgICAgfSxcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZ28gaGVyZVxyXG4gICAgICAgICAgICBvcHRpb25zOiB7fVxyXG4gICAgICAgIH0gKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSYW5kb21Db2xvcigpIHtcclxuICAgICAgICByZXR1cm4gYHJnYmEoJHtnZXRSYW5kb20oKX0sICR7Z2V0UmFuZG9tKCl9LCAke2dldFJhbmRvbSgpfSwgMC44KWA7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFJhbmRvbSgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KS50b1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldENoYXJ0RGF0YVxyXG4gICAgfVxyXG59ICkoKVxyXG4iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHJcbiAgICAvLyA9PT09PSBHTE9CQUxTID09PT09IC8vXHJcbiAgICBsZXQgaW52ZXN0QW1vdW50ICAgID0gMDtcclxuICAgIGxldCBhbGxDdXJyZW5jaWVzICAgPSBbXTtcclxuICAgIGxldCBmaWF0ICAgICAgICAgICAgPSBbJyQnLCAnVVNEJ107XHJcbiAgICBjb25zdCBjMjBJbmRleCAgICAgID0gWyAxMy40LCAxMi4zLCAxMC41LCAxMC4yLCA5LjIsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNy42LCA1LjQsIDQuOSwgNC4zLCA0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMuOCwgMy40LCAyLjEsIDEuNywgMS41LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEuNSwgMS4yLCAxLjIsIDAuOSwgMC45IF07XHJcblxyXG4gICAgY29uc3QgYzIwVXJsID0gJ2h0dHBzOi8vYXBpLmNvaW5tYXJrZXRjYXAuY29tL3YxL3RpY2tlci8/bGltaXQ9MjAnO1xyXG5cclxuICAgIGNvbnN0IG5ld3NVcmwgPSAnaHR0cHM6Ly9taW4tYXBpLmNyeXB0b2NvbXBhcmUuY29tL2RhdGEvbmV3cy8/Y2F0ZWdvcmllcz0nO1xyXG5cclxuICAgIC8vIG51bWJlciBvZiBuZXdzIGFydGljbGVzIHRvIHNob3dcclxuICAgIGNvbnN0IG5ld3NMaW1pdCA9IDU7XHJcblxyXG4gICAgLy8gPT09PT0gUHV0IGFsbCBET00gdGFyZ2V0dGluZyBoZXJlID09PT09IC8vXHJcbiAgICBjb25zdCBjdXJyZW5jeVRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5jdXJyZW5jeS10YWJsZScgKTtcclxuICAgIGNvbnN0IGZvcm0gICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLmludmVzdC1mb3JtJyApO1xyXG4gICAgY29uc3QgaW5wdXQgICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuaW52ZXN0LWlucHV0JyApO1xyXG4gICAgY29uc3QgbmV3c1RhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5uZXdzLXRhYmxlJyApO1xyXG5cclxuXHJcbiAgICAvLyA9PT09PSBET00gTGlzdGVuZXJzID09PT09IC8vIFxyXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCAnc3VibWl0JywgKCBlICkgPT4gc3VibWl0Rm9ybSggZSApIClcclxuXHJcbiAgICBnZXREYXRhKGMyMFVybCkudGhlbiggcmVzID0+IHtcclxuICAgICAgICBidWlsZFRhYmxlKCByZXMgKTtcclxuICAgICAgICBjaGFydC5nZXRDaGFydERhdGEoIHJlcyApO1xyXG4gICAgfSApXHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3VybH0gU3RyaW5nICB1cmwgc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJucyB7IHByb21pc2UgfSBcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0RGF0YSggdXJsICkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCggdXJsIClcclxuICAgICAgICAgICAgICAgIC50aGVuKCByZXMgPT4gcmVzLmpzb24oKSApXHJcbiAgICB9OyBcclxuXHJcbiAgICBmdW5jdGlvbiBzaG93TmV3cyhhcnRpY2xlcykge1xyXG4gICAgICAgIGxldCBhcnRpY2xlc1NhbXBsZSA9IGFydGljbGVzLnNsaWNlKDAsIG5ld3NMaW1pdCk7ICBcclxuICAgICAgICBsZXQgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndGJvZHknICk7XHJcbiAgICAgICAgdGJvZHkuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJuZXdzdGFibGVcIik7XHJcbiBcclxuICAgICAgICAvLyBpZiBuZXdzdGFibGUgaXMgYWxyZWFkeSBwcmVzZW50LCBjbGVhciBiZWZvcmVcclxuICAgICAgICAvLyBhcHBlbmRpbmdcclxuICAgICAgICBsZXQgbmV3c0JvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3c3RhYmxlJyk7XHJcbiAgICAgICAgaWYgKG5ld3NCb2R5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5ld3NCb2R5LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIGFydGljbGVzU2FtcGxlLmZvckVhY2goKGluZm8pID0+IHtcclxuICAgICAgICAgICAgbGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RyJyApO1xyXG4gICAgICAgICAgICB0ci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDx0ZD48aW1nIHNyYz1cIiR7aW5mby5pbWFnZXVybH1cIiB0aXRsZT0ke2luZm8udGl0bGV9XCIgYWx0PVwibmV3c1wiLz48L3RkPlxyXG4gICAgICAgICAgICA8dGQ+PHA+PC9wPjxhIGhyZWY9XCIke2luZm8udXJsfVwiPiR7aW5mby50aXRsZX08L2E+PC9wPlxyXG4gICAgICAgICAgICA8cD4ke2luZm8uYm9keX08L3A+PC90ZD5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQoIHRyICk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBuZXdzVGFibGUuYXBwZW5kQ2hpbGQoIHRib2R5ICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgICogY29uc3RydWN0IG5ld3MgYmFzZWQgb24gdG9wIDIwIGNyeXB0b1xyXG4gICAgICogQHBhcmFtIHtjdXJyU3ltYm9sfSBBcnJheSBjdXJyZW5jeXN5bWJvbHNcclxuICAgICAqIGVnOiBbJ0JUQycsICdFVEgnXVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldE5ld3MoY3VyclN5bWJvbHMpIHtcclxuICAgICAgICBsZXQgY3VyclN0cmluZyA9IGN1cnJTeW1ib2xzLmpvaW4oXCIsXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZldGNoVXJsID0gbmV3c1VybC5jb25jYXQoY3VyclN0cmluZyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZmV0Y2hVcmwpO1xyXG5cclxuICAgICAgICBnZXREYXRhKGZldGNoVXJsKS50aGVuKHJlcyA9PiBzaG93TmV3cyhyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtjdXJyZW5jaWVzfSBBcnJheSBhcnJheSBvZiBjdXJyZW5jaWVzIGRhdGEgIFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBidWlsZFRhYmxlKCBjdXJyZW5jaWVzICkge1xyXG4gICAgICAgIC8vIEFkZCBmaWF0IHRvIHRoZWFkXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpYXQnKS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLnRleHRDb250ZW50ID0gYCAoJHtmaWF0WzFdfSlgKTtcclxuICAgICAgICBcclxuICAgICAgICBhbGxDdXJyZW5jaWVzID0gY3VycmVuY2llcztcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndGJvZHknICk7XHJcbiAgICAgICAgbGV0IGN1cnJTeW1ib2xzID0gW107XHJcbiAgICAgICAgY3VycmVuY2llcy5mb3JFYWNoKCAoIGN1ciwgY29pbiApID0+IHtcclxuICAgICAgICAgICAgY3VyclN5bWJvbHMucHVzaChjdXIuc3ltYm9sKTtcclxuICAgICAgICAgICAgbGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RyJyApO1xyXG4gICAgICAgICAgICB0ci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPiR7IGN1ci5yYW5rIH08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD4keyBjdXIubmFtZSB9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHsgZm9ybWF0TnVtKCBjdXIubWFya2V0X2NhcF91c2QgKSB9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHsgZm9ybWF0TnVtKCBjdXIucHJpY2VfdXNkICkgfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPiR7IGMyMEluZGV4W2NvaW5dIH0lPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHsgY2FsY3VsYXRlSW52ZXN0bWVudCggYzIwSW5kZXhbY29pbl0gKSB9PC90ZD5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQoIHRyICkgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBnZXROZXdzKGN1cnJTeW1ib2xzKTtcclxuICAgICAgICBjdXJyZW5jeVRhYmxlLmFwcGVuZENoaWxkKCB0Ym9keSApXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHt2YWx1ZX0gTnVtYmVyIGZyb20gY2VsbERhdGFcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IEZvcm1hdHRlZCB3aXRoIGNvbW1hcyBhbmQgZmlhdCBzeW1ib2wuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGZvcm1hdE51bSggdmFsdWUgKSB7XHJcbiAgICAgICAgbGV0IG5ld051bSA9IHBhcnNlRmxvYXQoIHZhbHVlICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGZsb2F0XHJcbiAgICAgICAgaWYgKG5ld051bSAlIDEgIT09IDAgJiYgbmV3TnVtID4gMSkge1xyXG4gICAgICAgICAgICAvLyBBZGQgZmlhdCBjdXJyZW5jeSBzeW1ib2wgJFxyXG4gICAgICAgICAgICAvLyBJZiBwcmljZSBpcyBvdmVyIDEsIGxpbWl0IGRlY2ltYWxzIHRvIHR3byBwbGFjZXNcclxuICAgICAgICAgICAgbmV3TnVtID0gYCR7ZmlhdFswXX0ke25ld051bS50b0ZpeGVkKDIpfWA7XHJcbiAgICAgICAgICAgIC8vIEFkZCBjb21tYSBhZnRlciBldmVyeSB0aHJlZSBudW1iZXJzXHJcbiAgICAgICAgICAgIHJldHVybiBuZXdOdW0gPSBuZXdOdW0ucmVwbGFjZSgvKFxcZCkoPz0oXFxkXFxkXFxkKSsoPyFcXGQpKS9nLCBcIiQxLFwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5ld051bSA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld051bSA9IGAke2ZpYXRbMF19JHtuZXdOdW19YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiBtYXJrZXQgY2FwLCBubyBkZWNpbWFsIHBsYWNlXHJcbiAgICAgICAgICAgIG5ld051bSA9IGAke2ZpYXRbMF19JHtwYXJzZUludChuZXdOdW0pfWA7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdOdW0gPSBuZXdOdW0ucmVwbGFjZSgvKFxcZCkoPz0oXFxkXFxkXFxkKSsoPyFcXGQpKS9nLCBcIiQxLFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9IFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHt2YWx1ZX0gTnVtYmVyIGN1cnJlbmN5J3MgaW5kZXggcGVyY2VudGFnZVxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUludmVzdG1lbnQoIHZhbHVlICkge1xyXG4gICAgICAgIC8vID09PT09IE5lZWQgdG8gZmlndXJlIG91dCB0aGUgY2FsY3VsYXRpb25zIGhlcmUgPT09PT0gLy9cclxuICAgICAgICBsZXQgYW1vdW50ID0gaW52ZXN0QW1vdW50ICogdmFsdWUgLyAxMDA7XHJcbiAgICAgICAgaW52ZXN0QW1vdW50ID0gaW52ZXN0QW1vdW50IC0gYW1vdW50O1xyXG4gICAgICAgIHJldHVybiBmb3JtYXROdW0oIGFtb3VudCApOyBcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHN1Ym1pdEZvcm0oIGUgKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmKCBpbnB1dC52YWx1ZSAhPT0gJycgKSB7XHJcbiAgICAgICAgICAgIGludmVzdEFtb3VudCA9IGlucHV0LnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgLy8gPT09PT0gUmVtb3ZlIHRhYmxlIGJvZHkgYW5kIHJlLXJlbmRlciA9PT09PSAvL1xyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVuY3lUYWJsZS5jaGlsZE5vZGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbmN5VGFibGUucmVtb3ZlQ2hpbGQoY3VycmVuY3lUYWJsZS5sYXN0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ1aWxkVGFibGUoIGFsbEN1cnJlbmNpZXMgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0gKVxyXG4iXX0=
