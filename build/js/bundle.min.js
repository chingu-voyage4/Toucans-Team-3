const chart=function(){let t=["January","February","March","April","May","June","July"],e=[];function n(){return Math.floor(256*Math.random()).toString()}return{getChartData:function(r){let o=r.filter((t,e)=>e<=9);Promise.all(o.map(t=>fetch(`https://cors-anywhere.herokuapp.com/https://min-api.cryptocompare.com/data/histoday?fsym=${t.symbol}&tsym=USD&limit=6`).then(t=>t.json()))).then(r=>{r.forEach((t,r)=>{let a=[];t.Data.forEach(t=>a.push(t.close)),e.push({label:o[r].symbol,backgroundColor:"transparent",borderColor:`rgba(${n()}, ${n()}, ${n()}, 0.8)`,data:a})}),function(){const n=document.getElementById("currency-chart").getContext("2d");new Chart(n,{type:"line",data:{labels:t,datasets:e},options:{}})}()})}}}();document.addEventListener("DOMContentLoaded",()=>{let t=0,e=[],n=["$","USD"];const r=[13.4,12.3,10.5,10.2,9.2,7.6,5.4,4.9,4.3,4,3.8,3.4,2.1,1.7,1.5,1.5,1.2,1.2,.9,.9],o="https://min-api.cryptocompare.com/data/news/?categories=",a=5,c=document.querySelector(".currency-table"),l=document.querySelector(".invest-form"),d=document.querySelector(".invest-input"),i=document.querySelector(".news-table");function u(t){return fetch(t).then(t=>t.json())}function s(t){let e=t.join(",");fetchUrl=o.concat(e),console.log(fetchUrl),u(fetchUrl).then(t=>(function(t){let e=t.slice(0,a),n=document.createElement("tbody");n.setAttribute("id","newstable");let r=document.querySelector("#newstable");null!==r&&(r.innerHTML=""),e.forEach(t=>{let e=document.createElement("tr");e.innerHTML=`\n            <td><a class="font-weight-bold" href="${t.url}">${t.title}</a> <p>${t.source}</p>\n            </td>\n            `,n.appendChild(e)}),i.appendChild(n)})(t))}function h(o){document.querySelectorAll(".fiat").forEach(t=>t.textContent=` (${n[1]})`),e=o;let a=document.createElement("tbody"),l=[];o.forEach((e,n)=>{l.push(e.symbol);let o=document.createElement("tr");o.innerHTML=`\n                    <td>${e.rank}</td>\n                    <td>${e.name}</td>\n                    <td>${m(e.market_cap_usd)}</td>\n                    <td>${m(e.price_usd)}</td>\n                    <td>${r[n]}%</td>\n                    <td>${function(e){let n=t*e/100;return t-=n,m(n)}(r[n])}</td>\n            `,a.appendChild(o)}),s(l),c.appendChild(a)}function m(t){let e=parseFloat(t);return e%1!=0&&e>1?(e=`${n[0]}${e.toFixed(2)}`).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):e<1?`${n[0]}${e}`:(e=`${n[0]}${parseInt(e)}`).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}l.addEventListener("submit",n=>(function(n){if(n.preventDefault(),""!==d.value){for(t=d.value;c.childNodes.length>1;)c.removeChild(c.lastChild);h(e)}})(n)),u("https://api.coinmarketcap.com/v1/ticker/?limit=20").then(t=>{h(t),chart.getChartData(t)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJjaGFydCIsImxhYmVscyIsImRhdGFzZXRzIiwiZ2V0UmFuZG9tIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJnZXRDaGFydERhdGEiLCJjaGFydERhdGEiLCJjdXJyZW5jaWVzIiwiZmlsdGVyIiwiY2QiLCJpbmRleCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJmZXRjaCIsInN5bWJvbCIsInRoZW4iLCJyZXMiLCJqc29uIiwiZm9yRWFjaCIsImRhdGEiLCJjbG9zaW5nUHJpY2VzIiwiRGF0YSIsImQiLCJwdXNoIiwiY2xvc2UiLCJsYWJlbCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiY3R4IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJDaGFydCIsInR5cGUiLCJvcHRpb25zIiwiYnVpbGRDaGFydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbnZlc3RBbW91bnQiLCJhbGxDdXJyZW5jaWVzIiwiZmlhdCIsImMyMEluZGV4IiwibmV3c1VybCIsIm5ld3NMaW1pdCIsImN1cnJlbmN5VGFibGUiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybSIsImlucHV0IiwibmV3c1RhYmxlIiwiZ2V0RGF0YSIsInVybCIsImdldE5ld3MiLCJjdXJyU3ltYm9scyIsImN1cnJTdHJpbmciLCJqb2luIiwiZmV0Y2hVcmwiLCJjb25jYXQiLCJjb25zb2xlIiwibG9nIiwiYXJ0aWNsZXMiLCJhcnRpY2xlc1NhbXBsZSIsInNsaWNlIiwidGJvZHkiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwibmV3c0JvZHkiLCJpbm5lckhUTUwiLCJpbmZvIiwidHIiLCJ0aXRsZSIsInNvdXJjZSIsImFwcGVuZENoaWxkIiwic2hvd05ld3MiLCJidWlsZFRhYmxlIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW0iLCJ0ZXh0Q29udGVudCIsImN1ciIsImNvaW4iLCJyYW5rIiwibmFtZSIsImZvcm1hdE51bSIsIm1hcmtldF9jYXBfdXNkIiwicHJpY2VfdXNkIiwidmFsdWUiLCJhbW91bnQiLCJjYWxjdWxhdGVJbnZlc3RtZW50IiwibmV3TnVtIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJyZXBsYWNlIiwicGFyc2VJbnQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJzdWJtaXRGb3JtIl0sIm1hcHBpbmdzIjoiQUFDQSxNQUFBQSxNQUFBLFdBRUEsSUFBQUMsR0FBQSxVQUFBLFdBQUEsUUFBQSxRQUFBLE1BQUEsT0FBQSxRQUNBQyxLQW9EQSxTQUFBQyxJQUNBLE9BQUFDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFBQUMsV0FJQSxPQUNBQyxhQXZEQSxTQUFBQyxHQUVBLElBQUFDLEVBQUFELEVBQUFFLE9BQUEsQ0FBQUMsRUFBQUMsSUFBQUEsR0FBQSxHQUVBQyxRQUFBQyxJQUFBTCxFQUFBTSxJQUFBSixHQUNBSyxrR0FBQUwsRUFBQU0sMkJBQ0FDLEtBQUFDLEdBQUFBLEVBQUFDLFVBRUFGLEtBQUFDLElBRUFBLEVBQUFFLFFBQUEsQ0FBQUMsRUFBQVYsS0FDQSxJQUFBVyxLQUNBRCxFQUFBRSxLQUFBSCxRQUFBSSxHQUFBRixFQUFBRyxLQUFBRCxFQUFBRSxRQUNBMUIsRUFBQXlCLE1BQ0FFLE1BQUFuQixFQUFBRyxHQUFBSyxPQUNBWSxnQkFBQSxjQUNBQyxvQkE2QkE1QixRQUFBQSxRQUFBQSxZQTVCQW9CLEtBQUFDLE1BU0EsV0FDQSxNQUFBUSxFQUFBQyxTQUFBQyxlQUFBLGtCQUFBQyxXQUFBLE1BQ0EsSUFBQUMsTUFBQUosR0FFQUssS0FBQSxPQUdBZCxNQUNBdEIsT0FBQUEsRUFDQUMsU0FBQUEsR0FJQW9DLGFBbEJBQyxPQTNCQSxHQ0RBTixTQUFBTyxpQkFBQSxtQkFBQSxLQUdBLElBQUFDLEVBQUEsRUFDQUMsS0FDQUMsR0FBQSxJQUFBLE9BQ0EsTUFBQUMsR0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxFQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFDQSxJQUFBLElBQUEsSUFBQSxHQUFBLElBSUFDLEVBQUEsMkRBR0FDLEVBQUEsRUFHQUMsRUFBQWQsU0FBQWUsY0FBQSxtQkFDQUMsRUFBQWhCLFNBQUFlLGNBQUEsZ0JBQ0FFLEVBQUFqQixTQUFBZSxjQUFBLGlCQUNBRyxFQUFBbEIsU0FBQWUsY0FBQSxlQWdCQSxTQUFBSSxFQUFBQyxHQUNBLE9BQUFwQyxNQUFBb0MsR0FDQWxDLEtBQUFDLEdBQUFBLEVBQUFDLFFBK0JBLFNBQUFpQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLEtBQUEsS0FFQUMsU0FBQWIsRUFBQWMsT0FBQUgsR0FDQUksUUFBQUMsSUFBQUgsVUFFQU4sRUFBQU0sVUFBQXZDLEtBQUFDLElBbENBLFNBQUEwQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLE1BQUEsRUFBQWxCLEdBQ0FtQixFQUFBaEMsU0FBQWlDLGNBQUEsU0FDQUQsRUFBQUUsYUFBQSxLQUFBLGFBSUEsSUFBQUMsRUFBQW5DLFNBQUFlLGNBQUEsY0FDQSxPQUFBb0IsSUFDQUEsRUFBQUMsVUFBQSxJQUdBTixFQUFBekMsUUFBQWdELElBQ0EsSUFBQUMsRUFBQXRDLFNBQUFpQyxjQUFBLE1BQ0FLLEVBQUFGLGlFQUNBQyxFQUFBakIsUUFBQWlCLEVBQUFFLGdCQUFBRixFQUFBRyw4Q0FHQVIsRUFBQVMsWUFBQUgsS0FFQXBCLEVBQUF1QixZQUFBVCxJQWNBVSxDQUFBdkQsSUFPQSxTQUFBd0QsRUFBQWxFLEdBRUF1QixTQUFBNEMsaUJBQUEsU0FBQXZELFFBQUF3RCxHQUFBQSxFQUFBQyxpQkFBQXBDLEVBQUEsT0FFQUQsRUFBQWhDLEVBRUEsSUFBQXVELEVBQUFoQyxTQUFBaUMsY0FBQSxTQUNBWCxLQUNBN0MsRUFBQVksUUFBQSxDQUFBMEQsRUFBQUMsS0FDQTFCLEVBQUE1QixLQUFBcUQsRUFBQTlELFFBQ0EsSUFBQXFELEVBQUF0QyxTQUFBaUMsY0FBQSxNQUNBSyxFQUFBRix1Q0FDQVcsRUFBQUUsc0NBQ0FGLEVBQUFHLHNDQUNBQyxFQUFBSixFQUFBSyxpREFDQUQsRUFBQUosRUFBQU0sNENBQ0ExQyxFQUFBcUMscUNBd0NBLFNBQUFNLEdBRUEsSUFBQUMsRUFBQS9DLEVBQUE4QyxFQUFBLElBRUEsT0FEQTlDLEdBQUErQyxFQUNBSixFQUFBSSxHQTNDQUMsQ0FBQTdDLEVBQUFxQyx5QkFFQWhCLEVBQUFTLFlBQUFILEtBRUFqQixFQUFBQyxHQUNBUixFQUFBMkIsWUFBQVQsR0FTQSxTQUFBbUIsRUFBQUcsR0FDQSxJQUFBRyxFQUFBQyxXQUFBSixHQUdBLE9BQUFHLEVBQUEsR0FBQSxHQUFBQSxFQUFBLEdBR0FBLEtBQUEvQyxFQUFBLEtBQUErQyxFQUFBRSxRQUFBLE1BRUFDLFFBQUEsMkJBQUEsT0FDQUgsRUFBQSxLQUNBL0MsRUFBQSxLQUFBK0MsS0FHQUEsS0FBQS9DLEVBQUEsS0FBQW1ELFNBQUFKLE1BQ0FHLFFBQUEsMkJBQUEsT0F4R0E1QyxFQUFBVCxpQkFBQSxTQUFBdUQsSUEySEEsU0FBQUEsR0FFQSxHQURBQSxFQUFBQyxpQkFDQSxLQUFBOUMsRUFBQXFDLE1BQUEsQ0FJQSxJQUhBOUMsRUFBQVMsRUFBQXFDLE1BR0F4QyxFQUFBa0QsV0FBQUMsT0FBQSxHQUNBbkQsRUFBQW9ELFlBQUFwRCxFQUFBcUQsV0FFQXhCLEVBQUFsQyxLQXBJQTJELENBQUFOLElBRUEzQyxFQWpCQSxxREFpQkFqQyxLQUFBQyxJQUNBd0QsRUFBQXhELEdBQ0FwQixNQUFBUSxhQUFBWSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3QgY2hhcnQgPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBsZXQgbGFiZWxzICAgPSBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIl07XHJcbiAgICBsZXQgZGF0YXNldHMgPSBbXTtcclxuICAgIFxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENoYXJ0RGF0YSAoIGNoYXJ0RGF0YSApe1xyXG5cclxuICAgICAgICBsZXQgY3VycmVuY2llcyA9IGNoYXJ0RGF0YS5maWx0ZXIoICggY2QsIGluZGV4ICkgPT4gaW5kZXggPD0gOSApO1xyXG5cclxuICAgICAgICBQcm9taXNlLmFsbCggY3VycmVuY2llcy5tYXAoIGNkID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKCBgaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vaHR0cHM6Ly9taW4tYXBpLmNyeXB0b2NvbXBhcmUuY29tL2RhdGEvaGlzdG9kYXk/ZnN5bT0ke2NkLnN5bWJvbH0mdHN5bT1VU0QmbGltaXQ9NmAgKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCByZXMgPT4gcmVzLmpzb24oKSApXHJcbiAgICAgICAgfSApIClcclxuICAgICAgICAudGhlbiggcmVzID0+IHtcclxuXHJcbiAgICAgICAgICAgIHJlcy5mb3JFYWNoKCAoIGRhdGEsIGluZGV4ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNsb3NpbmdQcmljZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGRhdGEuRGF0YS5mb3JFYWNoKCBkID0+IGNsb3NpbmdQcmljZXMucHVzaCggZC5jbG9zZSApIClcclxuICAgICAgICAgICAgICAgIGRhdGFzZXRzLnB1c2goIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogY3VycmVuY2llc1tpbmRleF0uc3ltYm9sLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogZ2V0UmFuZG9tQ29sb3IoKSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjbG9zaW5nUHJpY2VzLFxyXG4gICAgICAgICAgICAgICAgfSApXHJcbiAgICAgICAgICAgICB9IClcclxuXHJcbiAgICAgICAgICAgICBidWlsZENoYXJ0KCk7XHJcbiAgICAgICAgfSApXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGJ1aWxkQ2hhcnQoKSB7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbmN5LWNoYXJ0JykuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBjb25zdCBjaGFydCA9IG5ldyBDaGFydChjdHgsIHtcclxuICAgICAgICAgICAgLy8gaGUgdHlwZSBvZiBjaGFydCB3ZSB3YW50IHRvIGNyZWF0ZVxyXG4gICAgICAgICAgICB0eXBlOiAnbGluZScsXHJcbiAgICBcclxuICAgICAgICAgICAgLy8gVGhlIGRhdGEgZm9yIG91ciBkYXRhc2V0XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGxhYmVscyxcclxuICAgICAgICAgICAgICAgIGRhdGFzZXRzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGdvIGhlcmVcclxuICAgICAgICAgICAgb3B0aW9uczoge31cclxuICAgICAgICB9IClcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIGByZ2JhKCR7Z2V0UmFuZG9tKCl9LCAke2dldFJhbmRvbSgpfSwgJHtnZXRSYW5kb20oKX0sIDAuOClgO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSYW5kb20oKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NikudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXRDaGFydERhdGFcclxuICAgIH1cclxufSApKClcclxuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcblxyXG4gICAgLy8gPT09PT0gR0xPQkFMUyA9PT09PSAvL1xyXG4gICAgbGV0IGludmVzdEFtb3VudCAgICA9IDA7XHJcbiAgICBsZXQgYWxsQ3VycmVuY2llcyAgID0gW107XHJcbiAgICBsZXQgZmlhdCAgICAgICAgICAgID0gWyckJywgJ1VTRCddO1xyXG4gICAgY29uc3QgYzIwSW5kZXggICAgICA9IFsgMTMuNCwgMTIuMywgMTAuNSwgMTAuMiwgOS4yLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcuNiwgNS40LCA0LjksIDQuMywgNCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzLjgsIDMuNCwgMi4xLCAxLjcsIDEuNSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjUsIDEuMiwgMS4yLCAwLjksIDAuOSBdO1xyXG5cclxuICAgIGNvbnN0IGMyMFVybCA9ICdodHRwczovL2FwaS5jb2lubWFya2V0Y2FwLmNvbS92MS90aWNrZXIvP2xpbWl0PTIwJztcclxuXHJcbiAgICBjb25zdCBuZXdzVXJsID0gJ2h0dHBzOi8vbWluLWFwaS5jcnlwdG9jb21wYXJlLmNvbS9kYXRhL25ld3MvP2NhdGVnb3JpZXM9JztcclxuXHJcbiAgICAvLyBudW1iZXIgb2YgbmV3cyBhcnRpY2xlcyB0byBzaG93XHJcbiAgICBjb25zdCBuZXdzTGltaXQgPSA1O1xyXG5cclxuICAgIC8vID09PT09IFB1dCBhbGwgRE9NIHRhcmdldHRpbmcgaGVyZSA9PT09PSAvL1xyXG4gICAgY29uc3QgY3VycmVuY3lUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuY3VycmVuY3ktdGFibGUnICk7XHJcbiAgICBjb25zdCBmb3JtICAgICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5pbnZlc3QtZm9ybScgKTtcclxuICAgIGNvbnN0IGlucHV0ICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLmludmVzdC1pbnB1dCcgKTtcclxuICAgIGNvbnN0IG5ld3NUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcubmV3cy10YWJsZScgKTtcclxuXHJcblxyXG4gICAgLy8gPT09PT0gRE9NIExpc3RlbmVycyA9PT09PSAvLyBcclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lciggJ3N1Ym1pdCcsICggZSApID0+IHN1Ym1pdEZvcm0oIGUgKSApXHJcblxyXG4gICAgZ2V0RGF0YShjMjBVcmwpLnRoZW4oIHJlcyA9PiB7XHJcbiAgICAgICAgYnVpbGRUYWJsZSggcmVzICk7XHJcbiAgICAgICAgY2hhcnQuZ2V0Q2hhcnREYXRhKCByZXMgKTtcclxuICAgIH0gKVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHt1cmx9IFN0cmluZyAgdXJsIHN0cmluZ1xyXG4gICAgICogQHJldHVybnMgeyBwcm9taXNlIH0gXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldERhdGEoIHVybCApIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goIHVybCApXHJcbiAgICAgICAgICAgICAgICAudGhlbiggcmVzID0+IHJlcy5qc29uKCkgKVxyXG4gICAgfTsgXHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd05ld3MoYXJ0aWNsZXMpIHtcclxuICAgICAgICBsZXQgYXJ0aWNsZXNTYW1wbGUgPSBhcnRpY2xlcy5zbGljZSgwLCBuZXdzTGltaXQpOyAgXHJcbiAgICAgICAgbGV0IHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3Rib2R5JyApO1xyXG4gICAgICAgIHRib2R5LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibmV3c3RhYmxlXCIpO1xyXG4gXHJcbiAgICAgICAgLy8gaWYgbmV3c3RhYmxlIGlzIGFscmVhZHkgcHJlc2VudCwgY2xlYXIgYmVmb3JlXHJcbiAgICAgICAgLy8gYXBwZW5kaW5nXHJcbiAgICAgICAgbGV0IG5ld3NCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld3N0YWJsZScpO1xyXG4gICAgICAgIGlmIChuZXdzQm9keSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBuZXdzQm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICBhcnRpY2xlc1NhbXBsZS5mb3JFYWNoKChpbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0cicgKTtcclxuICAgICAgICAgICAgdHIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8dGQ+PGEgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCIgaHJlZj1cIiR7aW5mby51cmx9XCI+JHtpbmZvLnRpdGxlfTwvYT4gPHA+JHtpbmZvLnNvdXJjZX08L3A+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKCB0ciApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbmV3c1RhYmxlLmFwcGVuZENoaWxkKCB0Ym9keSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBcclxuICAgICAqIGNvbnN0cnVjdCBuZXdzIGJhc2VkIG9uIHRvcCAyMCBjcnlwdG9cclxuICAgICAqIEBwYXJhbSB7Y3VyclN5bWJvbH0gQXJyYXkgY3VycmVuY3lzeW1ib2xzXHJcbiAgICAgKiBlZzogWydCVEMnLCAnRVRIJ11cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXROZXdzKGN1cnJTeW1ib2xzKSB7XHJcbiAgICAgICAgbGV0IGN1cnJTdHJpbmcgPSBjdXJyU3ltYm9scy5qb2luKFwiLFwiKTtcclxuICAgICAgICBcclxuICAgICAgICBmZXRjaFVybCA9IG5ld3NVcmwuY29uY2F0KGN1cnJTdHJpbmcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGZldGNoVXJsKTtcclxuXHJcbiAgICAgICAgZ2V0RGF0YShmZXRjaFVybCkudGhlbihyZXMgPT4gc2hvd05ld3MocmVzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Y3VycmVuY2llc30gQXJyYXkgYXJyYXkgb2YgY3VycmVuY2llcyBkYXRhICBcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYnVpbGRUYWJsZSggY3VycmVuY2llcyApIHtcclxuICAgICAgICAvLyBBZGQgZmlhdCB0byB0aGVhZFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWF0JykuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS50ZXh0Q29udGVudCA9IGAgKCR7ZmlhdFsxXX0pYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYWxsQ3VycmVuY2llcyA9IGN1cnJlbmNpZXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3Rib2R5JyApO1xyXG4gICAgICAgIGxldCBjdXJyU3ltYm9scyA9IFtdO1xyXG4gICAgICAgIGN1cnJlbmNpZXMuZm9yRWFjaCggKCBjdXIsIGNvaW4gKSA9PiB7XHJcbiAgICAgICAgICAgIGN1cnJTeW1ib2xzLnB1c2goY3VyLnN5bWJvbCk7XHJcbiAgICAgICAgICAgIGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0cicgKTtcclxuICAgICAgICAgICAgdHIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD4keyBjdXIucmFuayB9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHsgY3VyLm5hbWUgfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPiR7IGZvcm1hdE51bSggY3VyLm1hcmtldF9jYXBfdXNkICkgfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPiR7IGZvcm1hdE51bSggY3VyLnByaWNlX3VzZCApIH08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD4keyBjMjBJbmRleFtjb2luXSB9JTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPiR7IGNhbGN1bGF0ZUludmVzdG1lbnQoIGMyMEluZGV4W2NvaW5dICkgfTwvdGQ+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKCB0ciApICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZ2V0TmV3cyhjdXJyU3ltYm9scyk7XHJcbiAgICAgICAgY3VycmVuY3lUYWJsZS5hcHBlbmRDaGlsZCggdGJvZHkgKVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7dmFsdWV9IE51bWJlciBmcm9tIGNlbGxEYXRhXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBGb3JtYXR0ZWQgd2l0aCBjb21tYXMgYW5kIGZpYXQgc3ltYm9sLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBmb3JtYXROdW0oIHZhbHVlICkge1xyXG4gICAgICAgIGxldCBuZXdOdW0gPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGZvciBmbG9hdFxyXG4gICAgICAgIGlmIChuZXdOdW0gJSAxICE9PSAwICYmIG5ld051bSA+IDEpIHtcclxuICAgICAgICAgICAgLy8gQWRkIGZpYXQgY3VycmVuY3kgc3ltYm9sICRcclxuICAgICAgICAgICAgLy8gSWYgcHJpY2UgaXMgb3ZlciAxLCBsaW1pdCBkZWNpbWFscyB0byB0d28gcGxhY2VzXHJcbiAgICAgICAgICAgIG5ld051bSA9IGAke2ZpYXRbMF19JHtuZXdOdW0udG9GaXhlZCgyKX1gO1xyXG4gICAgICAgICAgICAvLyBBZGQgY29tbWEgYWZ0ZXIgZXZlcnkgdGhyZWUgbnVtYmVyc1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3TnVtID0gbmV3TnVtLnJlcGxhY2UoLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZywgXCIkMSxcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChuZXdOdW0gPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdOdW0gPSBgJHtmaWF0WzBdfSR7bmV3TnVtfWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgbWFya2V0IGNhcCwgbm8gZGVjaW1hbCBwbGFjZVxyXG4gICAgICAgICAgICBuZXdOdW0gPSBgJHtmaWF0WzBdfSR7cGFyc2VJbnQobmV3TnVtKX1gO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3TnVtID0gbmV3TnVtLnJlcGxhY2UoLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZywgXCIkMSxcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSBcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7dmFsdWV9IE51bWJlciBjdXJyZW5jeSdzIGluZGV4IHBlcmNlbnRhZ2VcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVJbnZlc3RtZW50KCB2YWx1ZSApIHtcclxuICAgICAgICAvLyA9PT09PSBOZWVkIHRvIGZpZ3VyZSBvdXQgdGhlIGNhbGN1bGF0aW9ucyBoZXJlID09PT09IC8vXHJcbiAgICAgICAgbGV0IGFtb3VudCA9IGludmVzdEFtb3VudCAqIHZhbHVlIC8gMTAwO1xyXG4gICAgICAgIGludmVzdEFtb3VudCA9IGludmVzdEFtb3VudCAtIGFtb3VudDtcclxuICAgICAgICByZXR1cm4gZm9ybWF0TnVtKCBhbW91bnQgKTsgXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBzdWJtaXRGb3JtKCBlICkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiggaW5wdXQudmFsdWUgIT09ICcnICkge1xyXG4gICAgICAgICAgICBpbnZlc3RBbW91bnQgPSBpbnB1dC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vID09PT09IFJlbW92ZSB0YWJsZSBib2R5IGFuZCByZS1yZW5kZXIgPT09PT0gLy9cclxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbmN5VGFibGUuY2hpbGROb2Rlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW5jeVRhYmxlLnJlbW92ZUNoaWxkKGN1cnJlbmN5VGFibGUubGFzdENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBidWlsZFRhYmxlKCBhbGxDdXJyZW5jaWVzICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IClcclxuIl19
