const chart=function(){let e=["January","February","March","April","May","June","July"],t=[];function n(){return Math.floor(256*Math.random()).toString()}return{getChartData:function(r,a){return e=[],t=[],fetch(`https://cors-anywhere.herokuapp.com/https://min-api.cryptocompare.com/data/histoday?fsym=${r}&tsym=USD&limit=6`).then(e=>e.json()).then(r=>{let c=[];r.Data.forEach(t=>{c.push(t.close),e.push(function(e){const t=new Date(1e3*e),n=t.getDate(),r=t.getMonth();return`${["January","February","March","April","May","June","July","August","September","October","November","December"][r]} ${n}`}(t.time))}),n(),n(),n(),t.push({label:a,backgroundColor:"transparent",borderColor:"rgba( 0, 0, 0, 0.7)",borderWidth:3,pointBackgroundColor:"#66ff66",pointRadius:5,pointHoverRadius:8,data:c}),function(){const n=document.getElementById("currency-chart").getContext("2d");new Chart(n,{type:"line",data:{labels:e,datasets:t},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Price in USD",fontSize:20}}],xAxes:[{scaleLabel:{display:!0,labelString:"Day",fontSize:20}}]}}})}()})}}}(),CurrencyTable=function(e){let t=0,n=[],r=["$","USD"];const a=[13.4,12.3,10.5,10.2,9.2,7.6,5.4,4.9,4.3,4,3.8,3.4,2.1,1.7,1.5,1.5,1.2,1.2,.9,.9],c=document.getElementById("currency-chart");function o(t){document.querySelectorAll(".fiat").forEach(e=>e.textContent=` (${r[1]})`),n=t;let o=document.createElement("tbody"),i=[];t.forEach((t,n)=>{i.push(t.symbol);let r=document.createElement("tr");r.innerHTML=`\n                    <td>${t.rank}</td>\n                    <td>${t.name}</td>\n                    <td>${l(t.market_cap_usd)}</td>\n                    <td>${l(t.price_usd)}</td>\n                    <td>${a[n]}%</td>\n                    <td>${u(a[n])}</td>\n            `,r.style.cursor="pointer",o.appendChild(r),r.addEventListener("click",()=>{c.innerHTML="",e.chart.getChartData(t.symbol,t.name)})}),e.currencyTable.appendChild(o),e.getNews(i),e.currencySymbol=i}function l(e){let t=parseFloat(e);return t%1!=0&&t>1?(t=`${r[0]}${t.toFixed(2)}`).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):t<1?`${r[0]}${t}`:(t=`${r[0]}${parseInt(t)}`).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}function u(e){let n=t*e/100;return t-=n,l(n)}return{buildTable:o,formatNum:l,calculateInvestment:u,submitForm:function(r){if(r.preventDefault(),""!==e.input.value){for(t=e.input.value;e.currencyTable.childNodes.length>1;)e.currencyTable.removeChild(e.currencyTable.lastChild);o(n)}}}};document.addEventListener("DOMContentLoaded",()=>{const e="https://min-api.cryptocompare.com/data/news/?categories=";let t=[];const n=5;let r=0,a=n;const c=document.querySelector(".currency-table"),o=document.querySelector(".invest-form"),l=document.querySelector(".invest-input"),u=document.querySelector(".news-table"),i=document.querySelector(".refresh-icon"),d=CurrencyTable({form:o,input:l,currencyTable:c,getNews:m,currencySymbols:t,chart:chart});function s(e){return fetch(e).then(e=>e.json())}function m(t){let c=t.join(",");fetchUrl=e.concat(c),s(fetchUrl).then(e=>(function(e){a>=5*n?(r=0,a=n):(r+=n,a+=n);let t=e.slice(r,a),c=document.createElement("tbody");null!==u&&(u.innerHTML=""),t.forEach(e=>{let t=document.createElement("tr");t.innerHTML=`\n            <td><a class="font-weight-bold" href="${e.url}">${e.title}</a> <p>${e.source}</p>\n            </td>\n            `,c.appendChild(t)}),u.appendChild(c)})(e))}o.addEventListener("submit",e=>(function(e){d.submitForm(e)})(e)),i.addEventListener("click",()=>m(t)),s("https://api.coinmarketcap.com/v1/ticker/?limit=20").then(e=>{d.buildTable(e),chart.getChartData("BTC","Bitcoin")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LmpzIiwiY3VycmVuY3lUYWJsZS5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiY2hhcnQiLCJsYWJlbHMiLCJkYXRhc2V0cyIsImdldFJhbmRvbSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwiZ2V0Q2hhcnREYXRhIiwiY3VyU3ltYm9sIiwiY3VyTmFtZSIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJjbG9zaW5nUHJpY2VzIiwiRGF0YSIsImZvckVhY2giLCJkIiwicHVzaCIsImNsb3NlIiwiZGF0ZVRpbWUiLCJkYXRlU3RyaW5nIiwiRGF0ZSIsImRheSIsImdldERhdGUiLCJtb250aEluZGV4IiwiZ2V0TW9udGgiLCJwYXJzZURhdGUiLCJ0aW1lIiwibGFiZWwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwicG9pbnRCYWNrZ3JvdW5kQ29sb3IiLCJwb2ludFJhZGl1cyIsInBvaW50SG92ZXJSYWRpdXMiLCJkYXRhIiwiY3R4IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJDaGFydCIsInR5cGUiLCJvcHRpb25zIiwicmVzcG9uc2l2ZSIsIm1haW50YWluQXNwZWN0UmF0aW8iLCJzY2FsZXMiLCJ5QXhlcyIsInNjYWxlTGFiZWwiLCJkaXNwbGF5IiwibGFiZWxTdHJpbmciLCJmb250U2l6ZSIsInhBeGVzIiwiYnVpbGRDaGFydCIsIkN1cnJlbmN5VGFibGUiLCJnbG9iYWwiLCJpbnZlc3RBbW91bnQiLCJhbGxDdXJyZW5jaWVzIiwiZmlhdCIsImMyMEluZGV4IiwiY3VycmVuY3lDaGFydCIsImJ1aWxkVGFibGUiLCJjdXJyZW5jaWVzIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW0iLCJ0ZXh0Q29udGVudCIsInRib2R5IiwiY3JlYXRlRWxlbWVudCIsImN1cnJTeW1ib2xzIiwiY3VyIiwiY29pbiIsInN5bWJvbCIsInRyIiwiaW5uZXJIVE1MIiwicmFuayIsIm5hbWUiLCJmb3JtYXROdW0iLCJtYXJrZXRfY2FwX3VzZCIsInByaWNlX3VzZCIsImNhbGN1bGF0ZUludmVzdG1lbnQiLCJzdHlsZSIsImN1cnNvciIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbmN5VGFibGUiLCJnZXROZXdzIiwiY3VycmVuY3lTeW1ib2wiLCJ2YWx1ZSIsIm5ld051bSIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwicmVwbGFjZSIsInBhcnNlSW50IiwiYW1vdW50Iiwic3VibWl0Rm9ybSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwiY2hpbGROb2RlcyIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwibmV3c1VybCIsImN1cnJlbmN5U3ltYm9scyIsIm5ld3NMaW1pdCIsImZpcnN0QXJ0aWNsZSIsImxhc3RBcnRpY2xlIiwicXVlcnlTZWxlY3RvciIsImZvcm0iLCJuZXdzVGFibGUiLCJyZWZyZXNoQnV0dG9uIiwiQ3VycmVuY3kiLCJnZXREYXRhIiwidXJsIiwiY3VyclN0cmluZyIsImpvaW4iLCJmZXRjaFVybCIsImNvbmNhdCIsImFydGljbGVzIiwiYXJ0aWNsZXNTYW1wbGUiLCJzbGljZSIsImluZm8iLCJ0aXRsZSIsInNvdXJjZSIsInNob3dOZXdzIl0sIm1hcHBpbmdzIjoiQUFDQSxNQUFBQSxNQUFBLFdBRUEsSUFBQUMsR0FBQSxVQUFBLFdBQUEsUUFBQSxRQUFBLE1BQUEsT0FBQSxRQUNBQyxLQThGQSxTQUFBQyxJQUNBLE9BQUFDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFBQUMsV0FJQSxPQUNBQyxhQWpHQSxTQUFBQyxFQUFBQyxHQUtBLE9BSEFULEtBQ0FDLEtBRUFTLGtHQUFBRixzQkFDQUcsS0FBQUMsR0FBQUEsRUFBQUMsUUFDQUYsS0FBQUMsSUFJQSxJQUFBRSxLQUNBRixFQUFBRyxLQUFBQyxRQUFBQyxJQUNBSCxFQUFBSSxLQUFBRCxFQUFBRSxPQUNBbkIsRUFBQWtCLEtBbUJBLFNBQUFF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QXJHLEtBQUFDLElBQ0FtRyxFQUFBbEQsV0FBQWpELEdBQ0FiLE1BQUFRLGFBQUEsTUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGNoYXJ0ID0gKCBmdW5jdGlvbiAoKSB7XG5cbiAgICBsZXQgbGFiZWxzICAgPSBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIl07XG4gICAgbGV0IGRhdGFzZXRzID0gW107XG4gICAgXG5cbiAgICBmdW5jdGlvbiBnZXRDaGFydERhdGEgKCBjdXJTeW1ib2wsIGN1ck5hbWUgKXtcblxuICAgICAgICBsYWJlbHMgICA9IFtdO1xuICAgICAgICBkYXRhc2V0cyA9IFtdO1xuXG4gICAgICAgIHJldHVybiBmZXRjaCggYGh0dHBzOi8vY29ycy1hbnl3aGVyZS5oZXJva3VhcHAuY29tL2h0dHBzOi8vbWluLWFwaS5jcnlwdG9jb21wYXJlLmNvbS9kYXRhL2hpc3RvZGF5P2ZzeW09JHtjdXJTeW1ib2x9JnRzeW09VVNEJmxpbWl0PTZgIClcbiAgICAgICAgICAgICAgICAudGhlbiggcmVzID0+IHJlcy5qc29uKCkgKVxuICAgICAgICAgICAgICAgIC50aGVuKCByZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gPT09PT0gQ2hlY2sgZm9yIEVtcHR5IERhdGEgPT09PT0gLy9cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsb3NpbmdQcmljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLkRhdGEuZm9yRWFjaCggZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zaW5nUHJpY2VzLnB1c2goIGQuY2xvc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscy5wdXNoKCBwYXJzZURhdGUoIGQudGltZSApIClcbiAgICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZUNvbG9yID0gZ2V0UmFuZG9tQ29sb3IoKVxuICAgICAgICAgICAgICAgICAgICBkYXRhc2V0cy5wdXNoKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogY3VyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSggMCwgMCwgMCwgMC43KScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50QmFja2dyb3VuZENvbG9yOiAnIzY2ZmY2NicsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludFJhZGl1czogNSxcdFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRIb3ZlclJhZGl1czogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGNsb3NpbmdQcmljZXMsXG4gICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBidWlsZENoYXJ0KCk7XG4gICAgICAgICAgICAgICAgfSApXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBwYXJzZURhdGUoIGRhdGVUaW1lICkge1xuXG4gICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBuZXcgRGF0ZSggZGF0ZVRpbWUgKiAxMDAwICk7XG4gICAgICAgIGNvbnN0IG1vbnRoTmFtZXMgPSBbXG4gICAgICAgICAgICBcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsXG4gICAgICAgICAgICBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIixcbiAgICAgICAgICAgIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLFxuICAgICAgICAgICAgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgZGF5ID0gZGF0ZVN0cmluZy5nZXREYXRlKCk7XG4gICAgICAgIGNvbnN0IG1vbnRoSW5kZXggPSBkYXRlU3RyaW5nLmdldE1vbnRoKCk7XG4gICAgICAgIFxuICAgICAgICAgIHJldHVybiBgJHttb250aE5hbWVzW21vbnRoSW5kZXhdfSAke2RheX1gO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYnVpbGRDaGFydCgpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbmN5LWNoYXJ0JykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY29uc3QgY2hhcnQgPSBuZXcgQ2hhcnQoY3R4LCB7XG4gICAgICAgICAgICAvLyBoZSB0eXBlIG9mIGNoYXJ0IHdlIHdhbnQgdG8gY3JlYXRlXG4gICAgICAgICAgICB0eXBlOiAnbGluZScsXG4gICAgXG4gICAgICAgICAgICAvLyBUaGUgZGF0YSBmb3Igb3VyIGRhdGFzZXRcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBsYWJlbHMsXG4gICAgICAgICAgICAgICAgZGF0YXNldHNcbiAgICAgICAgICAgIH0sXG4gICAgXG4gICAgICAgICAgICAvLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZ28gaGVyZVxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6dHJ1ZSxcbiAgICAgICAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOmZhbHNlLFxuICAgICAgICAgICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxTdHJpbmc6ICdQcmljZSBpbiBVU0QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDIwXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICAgICAgeEF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nOiAnRGF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDIwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKSB7XG4gICAgICAgIHJldHVybiBgcmdiYSgke2dldFJhbmRvbSgpfSwgJHtnZXRSYW5kb20oKX0sICR7Z2V0UmFuZG9tKCl9LCAwLjgpYDtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGdldFJhbmRvbSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NikudG9TdHJpbmcoKTtcbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldENoYXJ0RGF0YVxuICAgIH1cbn0gKSgpXG4iLCJjb25zdCBDdXJyZW5jeVRhYmxlID0gZnVuY3Rpb24gKCBnbG9iYWwgKSB7XG4gICAgXG4gICAgbGV0IGludmVzdEFtb3VudCAgICA9IDA7XG4gICAgbGV0IGFsbEN1cnJlbmNpZXMgICA9IFtdO1xuICAgIGxldCBmaWF0ICAgICAgICAgICAgPSBbJyQnLCAnVVNEJ107XG4gICAgY29uc3QgYzIwSW5kZXggICAgICA9IFsgMTMuNCwgMTIuMywgMTAuNSwgMTAuMiwgOS4yLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA3LjYsIDUuNCwgNC45LCA0LjMsIDQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMuOCwgMy40LCAyLjEsIDEuNywgMS41LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjUsIDEuMiwgMS4yLCAwLjksIDAuOSBdO1xuXG4gICAgY29uc3QgY3VycmVuY3lDaGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnY3VycmVuY3ktY2hhcnQnICk7XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Y3VycmVuY2llc30gQXJyYXkgYXJyYXkgb2YgY3VycmVuY2llcyBkYXRhICBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBidWlsZFRhYmxlKCBjdXJyZW5jaWVzICkge1xuICAgICAgICAvLyBBZGQgZmlhdCB0byB0aGVhZFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlhdCcpLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0udGV4dENvbnRlbnQgPSBgICgke2ZpYXRbMV19KWApO1xuICAgICAgICBcbiAgICAgICAgYWxsQ3VycmVuY2llcyA9IGN1cnJlbmNpZXM7XG4gICAgICAgIFxuICAgICAgICBsZXQgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndGJvZHknICk7XG4gICAgICAgIGxldCBjdXJyU3ltYm9scyA9IFtdO1xuICAgICAgICBjdXJyZW5jaWVzLmZvckVhY2goICggY3VyLCBjb2luICkgPT4ge1xuICAgICAgICAgICAgY3VyclN5bWJvbHMucHVzaChjdXIuc3ltYm9sKTtcbiAgICAgICAgICAgIGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0cicgKTtcbiAgICAgICAgICAgIHRyLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICAgICAgPHRkPiR7IGN1ci5yYW5rIH08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHsgY3VyLm5hbWUgfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD4keyBmb3JtYXROdW0oIGN1ci5tYXJrZXRfY2FwX3VzZCApIH08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHsgZm9ybWF0TnVtKCBjdXIucHJpY2VfdXNkICkgfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD4keyBjMjBJbmRleFtjb2luXSB9JTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD4keyBjYWxjdWxhdGVJbnZlc3RtZW50KCBjMjBJbmRleFtjb2luXSApIH08L3RkPlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICAgIHRyLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKCB0ciApICBcbiAgICAgICAgICAgIHRyLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeUNoYXJ0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgIGdsb2JhbC5jaGFydC5nZXRDaGFydERhdGEoIGN1ci5zeW1ib2wsIGN1ci5uYW1lICk7IFxuICAgICAgICAgICAgIH0gKSAgICBcbiAgICAgICAgfSk7XG4gICAgICAgIGdsb2JhbC5jdXJyZW5jeVRhYmxlLmFwcGVuZENoaWxkKCB0Ym9keSApO1xuICAgICAgICBnbG9iYWwuZ2V0TmV3cyhjdXJyU3ltYm9scyk7XG4gICAgICAgIGdsb2JhbC5jdXJyZW5jeVN5bWJvbCA9IGN1cnJTeW1ib2xzOyAgIFxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7dmFsdWV9IE51bWJlciBmcm9tIGNlbGxEYXRhXG4gICAgICogQHJldHVybnMge051bWJlcn0gRm9ybWF0dGVkIHdpdGggY29tbWFzIGFuZCBmaWF0IHN5bWJvbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JtYXROdW0oIHZhbHVlICkge1xuICAgICAgICBsZXQgbmV3TnVtID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGZvciBmbG9hdFxuICAgICAgICBpZiAobmV3TnVtICUgMSAhPT0gMCAmJiBuZXdOdW0gPiAxKSB7XG4gICAgICAgICAgICAvLyBBZGQgZmlhdCBjdXJyZW5jeSBzeW1ib2wgJFxuICAgICAgICAgICAgLy8gSWYgcHJpY2UgaXMgb3ZlciAxLCBsaW1pdCBkZWNpbWFscyB0byB0d28gcGxhY2VzXG4gICAgICAgICAgICBuZXdOdW0gPSBgJHtmaWF0WzBdfSR7bmV3TnVtLnRvRml4ZWQoMil9YDtcbiAgICAgICAgICAgIC8vIEFkZCBjb21tYSBhZnRlciBldmVyeSB0aHJlZSBudW1iZXJzXG4gICAgICAgICAgICByZXR1cm4gbmV3TnVtID0gbmV3TnVtLnJlcGxhY2UoLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZywgXCIkMSxcIik7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3TnVtIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld051bSA9IGAke2ZpYXRbMF19JHtuZXdOdW19YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG1hcmtldCBjYXAsIG5vIGRlY2ltYWwgcGxhY2VcbiAgICAgICAgICAgIG5ld051bSA9IGAke2ZpYXRbMF19JHtwYXJzZUludChuZXdOdW0pfWA7XG4gICAgICAgICAgICByZXR1cm4gbmV3TnVtID0gbmV3TnVtLnJlcGxhY2UoLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZywgXCIkMSxcIik7XG4gICAgICAgIH1cbiAgICB9IFxuXG5cbiAgICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7dmFsdWV9IE51bWJlciBjdXJyZW5jeSdzIGluZGV4IHBlcmNlbnRhZ2VcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVJbnZlc3RtZW50KCB2YWx1ZSApIHtcbiAgICAgICAgLy8gPT09PT0gTmVlZCB0byBmaWd1cmUgb3V0IHRoZSBjYWxjdWxhdGlvbnMgaGVyZSA9PT09PSAvL1xuICAgICAgICBsZXQgYW1vdW50ID0gaW52ZXN0QW1vdW50ICogdmFsdWUgLyAxMDA7XG4gICAgICAgIGludmVzdEFtb3VudCA9IGludmVzdEFtb3VudCAtIGFtb3VudDtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE51bSggYW1vdW50ICk7IFxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gc3VibWl0Rm9ybSggZSApIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiggZ2xvYmFsLmlucHV0LnZhbHVlICE9PSAnJyApIHtcbiAgICAgICAgICAgIGludmVzdEFtb3VudCA9IGdsb2JhbC5pbnB1dC52YWx1ZTtcblxuICAgICAgICAgICAgLy8gPT09PT0gUmVtb3ZlIHRhYmxlIGJvZHkgYW5kIHJlLXJlbmRlciA9PT09PSAvL1xuICAgICAgICAgICAgd2hpbGUgKGdsb2JhbC5jdXJyZW5jeVRhYmxlLmNoaWxkTm9kZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGdsb2JhbC5jdXJyZW5jeVRhYmxlLnJlbW92ZUNoaWxkKGdsb2JhbC5jdXJyZW5jeVRhYmxlLmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWlsZFRhYmxlKCBhbGxDdXJyZW5jaWVzICk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGJ1aWxkVGFibGUsXG4gICAgICAgIGZvcm1hdE51bSwgXG4gICAgICAgIGNhbGN1bGF0ZUludmVzdG1lbnQsXG4gICAgICAgIHN1Ym1pdEZvcm1cbiAgICB9XG5cbn0iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcblxuICAgIC8vID09PT09IEdMT0JBTFMgPT09PT0gLy9cbiAgICBcblxuICAgIGNvbnN0IGMyMFVybCAgPSAnaHR0cHM6Ly9hcGkuY29pbm1hcmtldGNhcC5jb20vdjEvdGlja2VyLz9saW1pdD0yMCc7XG4gICAgY29uc3QgbmV3c1VybCA9ICdodHRwczovL21pbi1hcGkuY3J5cHRvY29tcGFyZS5jb20vZGF0YS9uZXdzLz9jYXRlZ29yaWVzPSc7XG4gICAgbGV0IGN1cnJlbmN5U3ltYm9scyA9IFtdO1xuXG4gICAgLy8gbnVtYmVyIG9mIG5ld3MgYXJ0aWNsZXMgdG8gc2hvd1xuICAgIGNvbnN0IG5ld3NMaW1pdCA9IDU7XG4gICAgbGV0IGZpcnN0QXJ0aWNsZSA9IDA7XG4gICAgbGV0IGxhc3RBcnRpY2xlID0gbmV3c0xpbWl0O1xuXG4gICAgLy8gPT09PT0gUHV0IGFsbCBET00gdGFyZ2V0dGluZyBoZXJlID09PT09IC8vXG4gICAgY29uc3QgY3VycmVuY3lUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuY3VycmVuY3ktdGFibGUnICk7XG4gICAgY29uc3QgZm9ybSAgICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuaW52ZXN0LWZvcm0nICk7XG4gICAgY29uc3QgaW5wdXQgICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuaW52ZXN0LWlucHV0JyApO1xuICAgIGNvbnN0IG5ld3NUYWJsZSAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLm5ld3MtdGFibGUnICk7XG4gICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcucmVmcmVzaC1pY29uJyApO1xuXG5cbiAgICAvLyA9PT09PSB0aGlzIHZhcmlhYmxlIGhvbGRzIGFsbCB0aGUgZnVuY3Rpb25zIGZvciBjdXJyZW5jeSB0YWJsZSA9PT09PSAvL1xuICAgIGNvbnN0IEN1cnJlbmN5ID0gQ3VycmVuY3lUYWJsZSggeyBmb3JtLCBpbnB1dCwgY3VycmVuY3lUYWJsZSwgZ2V0TmV3cywgY3VycmVuY3lTeW1ib2xzLCBjaGFydCB9ICk7XG5cbiAgICAvLyA9PT09PSBET00gTGlzdGVuZXJzID09PT09IC8vIFxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lciggJ3N1Ym1pdCcsICggZSApID0+IHN1Ym1pdEZvcm0oIGUgKSApO1xuICAgIHJlZnJlc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT4gZ2V0TmV3cyggY3VycmVuY3lTeW1ib2xzICkgKVxuXG5cblxuICAgIGdldERhdGEoYzIwVXJsKS50aGVuKCByZXMgPT4ge1xuICAgICAgICBDdXJyZW5jeS5idWlsZFRhYmxlKCByZXMgKTtcbiAgICAgICAgY2hhcnQuZ2V0Q2hhcnREYXRhKCAnQlRDJywgJ0JpdGNvaW4nICk7XG4gICAgfSApXG4gICAgXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHt1cmx9IFN0cmluZyAgdXJsIHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHsgcHJvbWlzZSB9IFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldERhdGEoIHVybCApIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKCB1cmwgKVxuICAgICAgICAgICAgICAgIC50aGVuKCByZXMgPT4gcmVzLmpzb24oKSApXG4gICAgfTsgXG5cbiAgICBcbiAgICBmdW5jdGlvbiBzaG93TmV3cyhhcnRpY2xlcykge1xuICAgICAgICAvLyBJZiB1c2VyIHJlZnJlc2hlcyBuZXdzLCBwdWxsIG5ldyBiYXRjaFxuICAgICAgICAvLyBXaGVuIHVzZXIgY3ljbGVzIDUgdGltZXMsIHN0YXJ0IGFnYWluXG4gICAgICAgIGlmIChsYXN0QXJ0aWNsZSA+PSBuZXdzTGltaXQgKiA1KSB7XG4gICAgICAgICAgICBmaXJzdEFydGljbGUgPSAwO1xuICAgICAgICAgICAgbGFzdEFydGljbGUgPSBuZXdzTGltaXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaXJzdEFydGljbGUgKz0gbmV3c0xpbWl0O1xuICAgICAgICAgICAgbGFzdEFydGljbGUgKz0gbmV3c0xpbWl0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBhcnRpY2xlc1NhbXBsZSA9IGFydGljbGVzLnNsaWNlKGZpcnN0QXJ0aWNsZSwgbGFzdEFydGljbGUpOyAgXG4gICAgICAgIGxldCB0Ym9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0Ym9keScgKTtcbiBcbiAgICAgICAgLy8gaWYgbmV3c3RhYmxlIGlzIGFscmVhZHkgcHJlc2VudCwgY2xlYXIgYmVmb3JlXG4gICAgICAgIC8vIGFwcGVuZGluZ1xuICAgICAgICBpZiAobmV3c1RhYmxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuZXdzVGFibGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiBcbiAgICAgICAgYXJ0aWNsZXNTYW1wbGUuZm9yRWFjaCgoaW5mbykgPT4ge1xuICAgICAgICAgICAgbGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RyJyApO1xuICAgICAgICAgICAgdHIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHRkPjxhIGNsYXNzPVwiZm9udC13ZWlnaHQtYm9sZFwiIGhyZWY9XCIke2luZm8udXJsfVwiPiR7aW5mby50aXRsZX08L2E+IDxwPiR7aW5mby5zb3VyY2V9PC9wPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCggdHIgKTtcbiAgICAgICAgfSlcbiAgICAgICAgbmV3c1RhYmxlLmFwcGVuZENoaWxkKCB0Ym9keSApO1xuICAgIH1cblxuICAgIC8qKiBcbiAgICAgKiBjb25zdHJ1Y3QgbmV3cyBiYXNlZCBvbiB0b3AgMjAgY3J5cHRvXG4gICAgICogQHBhcmFtIHtjdXJyU3ltYm9sfSBBcnJheSBjdXJyZW5jeXN5bWJvbHNcbiAgICAgKiBlZzogWydCVEMnLCAnRVRIJ11cbiAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5ld3MoY3VyclN5bWJvbHMpIHtcbiAgICAgICAgbGV0IGN1cnJTdHJpbmcgPSBjdXJyU3ltYm9scy5qb2luKFwiLFwiKTtcbiAgICAgICAgXG4gICAgICAgIGZldGNoVXJsID0gbmV3c1VybC5jb25jYXQoY3VyclN0cmluZyk7XG5cbiAgICAgICAgZ2V0RGF0YShmZXRjaFVybCkudGhlbihyZXMgPT4gc2hvd05ld3MocmVzKSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzdWJtaXRGb3JtKCBlICkge1xuICAgICAgICBDdXJyZW5jeS5zdWJtaXRGb3JtKCBlICk7XG4gICAgfVxufSApXG4iXX0=
